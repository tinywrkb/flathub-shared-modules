{
  "name": "pyqt5-webengine",
  "build-options": {
    "env": [
      "QMAKEPATH=/app/lib"
    ]
  },
  "config-opts": [
    "--concatenate=1",
    "--no-docstrings",
    "--verbose",
    "--qmake-setting=QMAKE_CFLAGS_RELEASE='-I/usr/include/python3.8/'",
    "--qmake-setting=QMAKE_CXXFLAGS_RELEASE='-I/usr/include/python3.8/'",
    "--qmake-setting=QMAKE_INCDIR+=/app/include/QtWebEngine",
    "--qmake-setting=QMAKE_INCDIR+=/app/include/QtWebEngineCore",
    "--qmake-setting=QMAKE_INCDIR+=/app/include/QtWebEngineWidgets"
  ],
  "make-args": [
    "--directory=build"
  ],
  "make-install-args": [
    "--directory=build"
  ],
  "sources": [
    {
      "type": "archive",
      "url": "https://pypi.python.org/packages/source/P/PyQtWebEngine/PyQtWebEngine-5.15.4.tar.gz",
      "sha256": "cedc28f54165f4b8067652145aec7f732a17eadf6736835852868cf76119cc19",
      "x-checker-data": {
        "type": "pypi",
        "name": "PyQtWebEngine"
      }
    },
    {
      "type": "script",
      "commands": [
        "processed=`sed -e 's|prefix=/app|target-dir=/app/lib/python3.8/site-packages|' <<< $@`",
        "sip-build $processed",
        "echo 'trick flatpak-builder into running make' > Makefile"
      ],
      "dest-filename": "configure"
    }
  ],
  "modules": [
    "pyqt5.json"
  ]
}
